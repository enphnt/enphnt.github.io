<!DOCTYPE html>
<!-- saved from url=(0043)http://getbootstrap.com/examples/jumbotron/ -->
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="https://enphnt.github.io" rel="icon" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
    <link href="./css/enphnt.css" rel="stylesheet">

    <title>Nathan Phennel @ Github</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        $(function () {
            $('#showallrepos a').click(function (e) {
                var url = $(this).attr('href');
                window.location.href = url; // ## change url with hash
                location.reload(); // ## reload page
                e.preventDefault(); // ## prevent default click action
            })
        })
    </script>
    <script>
        $(function () {
            $('#showsomerepos a').click(function (e) {
                history.pushState("", document.title, window.location.pathname + window.location.search);
                location.reload();
                e.preventDefault();
            })
        })
    </script>

</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="https://enphnt.github.io">
                <img src="images/np_white_42x20.png" alt="NP">
            </a>
            <a id="dw-nav" class="navbar-brand" style="float: right" href="https://www.github.com/enphnt" title="enphnt home">
                <span class="dw-logo-come-on">Come on</span>&nbsp;
                <span class="dw-logo-feel-the">feel the</span>
                <span class="dw-logo-tests">tests</span>
            </a>
            <div class="navbar-header">
            </div>
        </div>
    </div>

    <!-- main banner-->
    <div id="ibm-leadspace-head" class="ibm-alternate ibm-padding-top-2 ibm-padding-bottom-1" style="background: url(images/open-bg.png) center / cover no-repeat;">
        <div id="ibm-leadspace-body" class="ibm-padding-top-3 ibm-padding-bottom-1">
            <div class="ibm-columns ibm-alternate-background">
                <div class="ibm-col-6-5 ibm-col-medium-1-1">
                    <h1 class="ibm-h1 ibm-medium">Nathan Phennel</h1>
                    <h2 class="ibm-h2 ibm-medium ibm-padding-bottom-3">▶ Jack of all trades, master of tests</h2>
                    <p class="ibm-button-link ibm-btn-row">
                        <a href="https://developer.ibm.com/code/open" class="ibm-btn-pri ibm-btn-white">Check out my Resume</a>
                        <a href="https://www.to-do.net/" class="ibm-btn-sec ibm-btn-white">Read my Rants</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- /main banner -->

    <!--<div class="jumbotron">
        <div class="container">
            <h1>Here are three things that I think are pretty cool</h1>
            <div class="leadspace-buttons">
                <a href="https://www.reddit.com/r/internetisbeautiful">
                    <p class="btn btn-primary btn-lg btn-custom-jazz">Look at some web art
                        <b>/r/Internet Is Beautiful</b>
                    </p>
                </a>
                <a href="https://archive.org/details/softwarelibrary_msdos_games">
                    <p class="btn btn-primary btn-lg btn-custom-bm">Have some old school fun
                        <b>MS-DOS Internet Archive</b>
                    </p>
                </a>
                <a href="http://www.pointless.com/">
                    <p class="btn btn-primary btn-lg btn-custom-dw">Peruse the pointless
                        <b>Pointless.com</b>
                    </p>
                </a>
            </div>
        </div>
    </div>-->

    <div class="ibm-columns ibm-padding-top-3">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <div id="wrapper">
                    <div class="navigation ibm-padding-bottom-2">
                        <div id="showsomerepos" class="section-title show_less">
                            <a class="title" href="">Show fewer</a>
                        </div>
                        <label for="search" class="col-lg-4 control-label search">
                            <span>Search</span>
                            <input type="search" id="search" class="search-query span3 filter input-medium" placeholder="My repos and projects...">
                        </label>
                        <div id="showallrepos" class="section-title show_more">
                            <a class="title" href="#showall">Show more</a>
                        </div>
                        <div class="separator gap"></div>
                        <div id="repos" class="columns collapse-group">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
    </div>
    </div>
    </div>


    <footer>
        <div class="container">
            <p class="copy-left">&copy;</p>
            <span>Copyleft 2016 -
                <span id="copyright-last-year">
                    <script>document.write(new Date().getFullYear())</script>
                </span>
            </span>
        </div>
    </footer>
    </div>
    <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./js/jquery.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/strftime.js"></script>
    <script type="text/javascript" src="orgs.js"></script>
    <script type="text/javascript">
        var updated = [];
        var allrepos = [];

        // go to http://thissite.example.com/#DEBUG to set DEBUG=true
        var DEBUG = (window.location.hash === '#DEBUG');
        var progress = 0;

        (function ($, undefined) {

            var repoUrls = {};

            function repoUrl(repo) {
                return repoUrls[repo.name] || repo.html_url;
            }

            function addUpdated() {
                $("#updated").empty();
                for (r = 0; r < Math.min(4, updated.length); r++) {
                    repo = updated[r];
                    var $uitem = $("<div>").addClass("updated-card col-sm-5 col-md-4 col-lg-3");
                    var $item = $("<div>").addClass("card pin " + (repo.language || '').toLowerCase() + " " + repo.name.toLowerCase());
                    var $link = $("<a>").attr("href", repoUrl(repo)).appendTo($item);
                    $link.append($("<h4>").text(repo.name));
                    $link.append($("<h5>").text((repo.language != null) ? repo.language : ""));
                    $item.append($("<p>").text(repo.description != null) ? repo.description : "");
                    $item.appendTo($uitem);
                    $uitem.appendTo("#updated");
                }

                var d = $("#updated").collapse({
                    toggle: true
                });

            }

            function addAllRepos() {
                $("#allrepos").empty();
                var counter = 0;
                if (window.location.hash === '#showall') {
                    for (r = 0; r < allrepos.length; r++) {
                        repo = allrepos[r];
                        var $item = $("<div>").addClass("card pin col-sm-5 col-md-4 col-lg-3 item " + (repo.language || '').toLowerCase() + " " + repo.name.toLowerCase());
                        var $link = $("<a>").attr("href", repoUrl(repo)).appendTo($item);
                        $link.append($("<h4>").html(repo.name + "<div class='org'><a href='" + repo.owner.html_url + "'>(" + repo.owner.login + ")"));
                        $link.append($("<h5>").text((repo.language != null) ? repo.language : ""));
                        $item.append($("<p>").text(repo.description != null) ? repo.description : "");
                        htag = "#allrepos";
                        $item.appendTo(htag);
                        counter++;
                    }
                    $(".nrepos").text(": " + counter + " shown. Click 'Show fewer' to show only 20 repos");
                } else {
                    for (r = 0; r < Math.min(20, allrepos.length); r++) {
                        repo = allrepos[r];
                        var $item = $("<div>").addClass("card pin col-sm-5 col-md-4 col-lg-3 item " + (repo.language || '').toLowerCase() + " " + repo.name.toLowerCase());
                        var $link = $("<a>").attr("href", repoUrl(repo)).appendTo($item);
                        $link.append($("<h4>").html(repo.name + "<div class='org'><a href='" + repo.owner.html_url + "'>(" + repo.owner.login + ")"));
                        $link.append($("<h5>").text((repo.language != null) ? repo.language : ""));
                        $item.append($("<p>").text(repo.description != null) ? repo.description : "");
                        htag = "#allrepos";
                        $item.appendTo(htag);
                        counter++;
                    }
                    $(".nrepos").text(": " + counter + " shown. Click 'Show more' to see other " + (allrepos.length - counter) + " repos");
                }
                $("#allrepos").collapse({
                    toggle: true
                })
            }

            function pushRepo(repos, org) {
                var left = repos;
                var right = allrepos;
                var result = [],
                    il = 0,
                    ir = 0;

                while (il < left.length && ir < right.length) {
                    if (left[il].name.toLowerCase() < right[ir].name.toLowerCase()) {
                        result.push(left[il++]);
                    } else {
                        result.push(right[ir++]);
                    }
                }

                allrepos = result.concat(left.slice(il)).concat(right.slice(ir));
            }

            function mergeUpdated(repos) {
                var left = repos;
                var right = updated;
                var result = [],
                    il = 0,
                    ir = 0;

                while (il < left.length && ir < right.length) {
                    if (left[il].pushed_at > right[ir].pushed_at) {
                        result.push(left[il++]);
                    } else {
                        result.push(right[ir++]);
                    }
                }

                updated = result.concat(left.slice(il)).concat(right.slice(ir));
            }

            function addRepos(orgs, repos, page) {
                var forks = [];
                var org = orgs.name;
                repos = repos || [];
                page = page || 1;
                reposcmd = orgs.type === "repo" ? "" : "/repos";

                // There are three supported request types: org, user and repo. Syntax differs.
                if ((orgs.type !== 'org') && (orgs.type !== 'user') && (orgs.type !== 'repo')) {
                    console.log('** Unknown type “' + orgs.type + '” for org “' + org + '” — check “orgs.js” for typo.');
                    return;
                }

                // These client tokens are for a dummy app, and there is no user specific
                // information that we get, so all in all, pretty safe to expose this here.
                var uri = "https://api.github.com/" + orgs.type + "s/" + org + reposcmd +
                    "?per_page=1000" +
                    "&client_id=1bafa09b6086eec7afb4" +
                    "&client_secret=7e6422a0a2e24f0d0ecb7521a63990b5758c9cc8";
                $.getJSON(uri, function (result) {
                    if (!Array.isArray(result)) {
                        result = [].concat(result);
                    }
                    if (result && result.length > 0) {
                        repos = repos.concat(result);

                        $(function () {

                            $.each(repos, function (i, repo) {
                                repo.pushed_at = new Date(repo.pushed_at);
                                if (repo.fork === true) { // if this is a fork, save the index
                                    forks.push(i);
                                }
                            });

                            // remove forks from the view
                            $.each(forks, function (i, forkindex) {
                                var indextoremove = forkindex - i; // account for prior splices
                                if (DEBUG) console.log('removing forked entry: ' + repos[indextoremove].full_name);
                                repos.splice(indextoremove, 1);
                            });

                            // pre sort by how recently the repo was modified
                            repos.sort(function (a, b) {
                                if (a.pushed_at < b.pushed_at) return 1;
                                if (b.pushed_at < a.pushed_at) return -1;
                                return 0;
                            });

                            mergeUpdated(repos);

                            repos.sort(function (a, b) {
                                if (a.name.toLowerCase() > b.name.toLowerCase()) {
                                    return 1;
                                }
                                if (b.name.toLowerCase() > a.name.toLowerCase()) {
                                    return -1
                                };
                                return 0;
                            });

                            pushRepo(repos, org);

                            // add 4 recently updated repos sorted by latest updates
                            addUpdated();

                            // add all other repos
                            addAllRepos();

                        });
                    }
                }).always(function () {
                    updateProgress();
                });
            }

            var formatPercent = function simplePercent(x) {
                return (x * 100).toFixed(0);
            }

            var formatInt = function simpleNum(x) {
                return x.toLocaleString();
            }

            if (window.hasOwnProperty('Intl')) {
                var pctFormat = new Intl.NumberFormat([], {
                    style: 'percent'
                });
                var decFormat = new Intl.NumberFormat([], {
                    style: 'decimal',
                    maximumFractionDigits: 0
                });

                formatPercent = function intlPercent(x) {
                    return pctFormat.format(x);
                };

                formatInt = function intlNum(x) {
                    return decFormat.format(x);
                };
            }

            function updateProgress() {
                progress++;

                var fract = progress / orgs.length;

                $progress.text(formatPercent(fract));

                if (progress >= orgs.length) {
                    $progress.delay(1000).fadeOut();
                }
            }

            $("<div>").addClass("separator").appendTo("#wrapper");
            var $sectiontitle = $("<div>").addClass("section-title").appendTo("#wrapper");
            var $title = $("<span>").addClass('title').text("recent").appendTo($sectiontitle);
            var $item = $("<div id='updated'>").addClass("columns section collapse");
            $item.appendTo($sectiontitle);
            var $twistie = $("<a data-toggle='collapse' data-target='#updated'>").addClass("twistie showdetails");
            $twistie.appendTo($sectiontitle);

            $("<div>").addClass("separator gap").appendTo("#wrapper");
            var $sectiontitle = $("<div>").addClass("section-title").appendTo("#wrapper");
            var $title = $("<span>").addClass('title').text("repos").appendTo($sectiontitle);
            var $repos = $("<span>").addClass('nrepos').text("(0)").appendTo($title);
            var $progress = $("<span>").addClass('loading').text("0 %").appendTo($title);
            var $item = $("<div id='allrepos'>").addClass("columns section collapse");
            $item.appendTo($sectiontitle);
            var $twistie = $("<a data-toggle='collapse' data-target='#allrepos'>").addClass("twistie showdetails");
            $twistie.appendTo($sectiontitle);

            for (var r in orgs) {
                addRepos(orgs[r]);
            }

            $("<div>").addClass("separator").appendTo("#wrapper");



        })(jQuery);

        $('#search').keyup(function () {
            var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();
            $rows = $(".card")
            $rows.show().filter(function () {
                var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                return !~text.indexOf(val);
            }).hide();

            // update repo count here
            n = $rows.length;
            for (r in $rows) {
                row = $rows[r];
                style = row.style;
                if (style && style.cssText && style.cssText.match("none")) {
                    n--;
                }

            }

            $rows = $(".updated-card");
            $rows.show().filter(function () {
                var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                return !~text.indexOf(val);
            }).hide();

            m = 4;
            for (r in $rows) {
                row = $rows[r];
                style = row.style;
                if (style && style.cssText && style.cssText.match("none")) {
                    m--;
                }

            }

            $(".nrepos").text("(" + (n - m) + ")");
        });

    </script>


</body>

</html>